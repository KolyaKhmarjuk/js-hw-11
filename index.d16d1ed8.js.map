{"mappings":"AAAA,MAAMA,EAAO,CACXC,KAAMC,SAASC,cAAc,gBAC7BC,QAASF,SAASC,cAAc,iBAChCE,SAAUH,SAASC,cAAc,eCAnC,MAAMG,EAAa,ICDJ,MAMbC,YACEC,QAAQC,IAAIC,MAOZC,MACE,qEAAkBD,KAAKE,wGAAuCF,KAAKG,QAElEC,MAAKC,GAAKA,EAAEC,SACZF,MAAKG,IACJP,KAAKG,MAAQ,CAAC,G,CAIhBK,YACF,OAAOR,KAAKE,W,CAEVM,UAAMC,GACRT,KAAKE,YAAcO,C,CA1BrBC,cACEV,KAAKE,YAAc,GACnBF,KAAKG,KAAO,C,GDWhBb,EAAKC,KAAKoB,iBAAiB,UAXVC,MAAMC,IACrBA,EAAEC,iBACFlB,EAAWY,MAAQK,EAAEE,cAAcC,SAASd,YAAYe,MAExDrB,EAAWC,WAAW,IAQxBP,EAAKK,SAASgB,iBAAiB,SALZ,KACjBf,EAAWC,WAAW","sources":["src/refs.js","src/index.js","src/api/api.js"],"sourcesContent":["const refs = {\n  form: document.querySelector('#search-form'),\n  galerry: document.querySelector('.gallery-list'),\n  loadMore: document.querySelector('.load-more'),\n};\n\nexport { refs };\n","import { refs } from './refs';\nimport ApiService from './api/api';\n\nconst apiService = new ApiService();\n\nconst onSearch = async e => {\n  e.preventDefault();\n  apiService.query = e.currentTarget.elements.searchQuery.value;\n\n  apiService.fetchData();\n};\n\nconst onLoadMore = () => {\n  apiService.fetchData();\n};\n\nrefs.form.addEventListener('submit', onSearch);\nrefs.loadMore.addEventListener('click', onLoadMore);\n","import axios from 'axios';\n\nexport default class ApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchData() {\n    console.log(this);\n    const URL = 'https://pixabay.com/api/';\n    const KEY = '?key=33125527-3d6befa9d5d1f6271bd5a7dac';\n    const PARAMS =\n      '&image_type=photo&image_type=photo&orientation=horizontal&safesearch=true&';\n    const PER_PAGE = 'per_page=40';\n\n    fetch(\n      `${URL}${KEY}&q=${this.searchQuery}${PARAMS}${PER_PAGE}&page${this.page}`\n    )\n      .then(r => r.json())\n      .then(data => {\n        this.page += 1;\n      });\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n"],"names":["$94aaf10e6bfe0334$export$21666b427502ea6d","form","document","querySelector","galerry","loadMore","$1f0dc3b9307be026$var$apiService","fetchData","console","log","this","fetch","searchQuery","page","then","r","json","data","query","newQuery","constructor","addEventListener","async","e","preventDefault","currentTarget","elements","value"],"version":3,"file":"index.d16d1ed8.js.map"}